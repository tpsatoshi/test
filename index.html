<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>トランザクション履歴の確認</title>

  <script type="text/javascript" >

    function onButtonClick() {
      var str1 = document.getElementById("text1").value;
      callAdd(str1);
    }

    function callAdd(value) {
      var xmlhttp = new XMLHttpRequest();

      xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == 4) {
          if (xmlhttp.status == 200) {
            var elem = xmlhttp.response;
          } else {
            alert("status = " + xmlhttp.status);
          }
        }
      }
      var url = "https://api.ethplorer.io/" + "getTokenInfo/" + value + "?apiKey=EK-bqwA4-T8wB3SE-uUj9N";
      xmlhttp.open("GET", url);
      xmlhttp.send();
    }

      request.onload = function() {
        const elme = request.response;
        rowdata(elme);

        function rowdata(obj) {
        const myH1 = document.createElement('h1');
        myH1.textContent = obj['from'];

        const myH2 = document.createElement('h2');
        myH2.textContent = obj['to'];

        const myH3 = document.createElement('h3');
        myH3.textContent = obj['value'];


    }


</script>
</head>
<body>
  <h2>トランザクション内容の確認</h2>

  トランザクション番号:<input id="text1" type="text" /><br/>
  <button onclick="onButtonClick()">確認</button><br/>
  結果:<br/>
  From:<div id='from'></div>
  To:<div id='to'></div>
  Amount:<div id='value'></div><br/>
</body>
</html>
